
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>WhaleWatch.Trade</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #001d2d;
      color: white;
      margin: 0;
      padding: 0;
    }
    nav {
      background-color: #001520;
      padding: 1em;
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 1.5em;
    }
    nav a {
      color: #00ffee;
      text-decoration: none;
      font-weight: bold;
    }
    section {
      padding: 2em;
    }
    h2 {
      color: #00ffff;
    }
    .box {
      background-color: #002b3f;
      border-radius: 12px;
      padding: 1.5em;
      margin-bottom: 2em;
    }
    .shark-trade, .shark-alert {
      background: rgba(0, 191, 255, 0.1);
      padding: 1em;
      border-left: 4px solid #00bcd4;
      border-radius: 8px;
      margin-bottom: 1em;
    }
    #whalebot {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #003545;
      padding: 1em;
      border-radius: 50%;
      box-shadow: 0 0 10px #00ffee;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 9999;
    }
    #whalebot:hover {
      box-shadow: 0 0 20px #00ffee;
    }
    #whalebot::before {
      content: "ğŸ¤–";
      font-size: 24px;
    }
  </style>
</head>
<body>

<nav>
  <a href="index.html">Home</a>
  <a href="simulate.html">Simulator</a>
  <a href="learn.html">Learn</a>
  <a href="whisper.html">Whispers</a>
</nav>

<section class="box" id="whale-meter">
  <h2>ğŸ‹ Whale Meter</h2>
  <canvas id="whaleMeterCanvas" width="300" height="150"></canvas>
</section>

<section class="box" id="sentiment-timeline">
  <h2>ğŸ“ˆ Sentiment Timeline</h2>
  <div id="sentimentChartContainer"></div>
</section>

<section class="box" id="shark-meter">
  <h2>ğŸ¦ˆ Shark Meter</h2>
  <div id="sharkTradesContainer"></div>
</section>

<section class="box" id="shark-alerts">
  <h2>âš ï¸ Shark Alerts</h2>
  <div id="sharkAlertsContainer"></div>
</section>

<section class="box" id="suggested-trade">
  <h2>ğŸš¨ Suggested Trade Based on Whale + Shark Signals</h2>
  <div id="suggestedTradeContainer"></div>
</section>

<section class="box" id="live-trader-log">
  <h2>ğŸ“ Live Trader Log</h2>
  <div id="traderLogContainer"></div>
</section>

<section class="box" id="weekly-plan">
  <h2>ğŸ“„ Weekly Premium Harvest Plan</h2>
  <p><strong>Week:</strong> May 20â€“24, 2025<br>
     <strong>Target:</strong> $2000 | <strong>Total:</strong> $2044</p>
  <h3>Roth IRA</h3>
  <p><strong>Puts:</strong></p>
  <ul>
    <li>3x NVDA $120 Put @ $1.66 = $498.00</li>
    <li>2x NVDA $118 Put @ $1.30 = $260.00</li>
  </ul>
  <p><strong>Calls:</strong></p>
  <ul>
    <li>2x ABBV $190 Call @ $2.77 = $554.00</li>
  </ul>
  <h3>IRA</h3>
  <p><strong>Puts:</strong></p>
  <ul>
    <li>1x NVDA $120 Put @ $1.50 = $150.00</li>
    <li>2x NVDA $117 Put @ $1.20 = $240.00</li>
  </ul>
</section>

<div id="whalebot" title="Ask WhaleBot anything about trading."></div>

<footer style="text-align:center; padding:2em; color:gray;">
  <p>Â© WhaleWatch.Trade â€” Connected to real data</p>
</footer>

<script>
  // Whale Meter (basic fill)
  const canvas = document.getElementById('whaleMeterCanvas');
  const ctx = canvas.getContext('2d');
  ctx.fillStyle = "#00ffee";
  ctx.fillRect(0, 75, 300, 75);
  ctx.fillStyle = "#002b3f";
  ctx.fillRect(0, 0, 300, 75);
  ctx.font = "20px Segoe UI";
  ctx.fillStyle = "#ffffff";
  ctx.fillText("Whale Sentiment: 50%", 60, 50);

  // Sentiment Timeline
  fetch('sentiment.json')
    .then(res => res.json())
    .then(data => {
      const container = document.getElementById('sentimentChartContainer');
      container.innerHTML = data.map(s => 
        `<div>${s.day}: ${s.bullish}% Bullish</div>`).join('');
    });

  // Shark Trades
  fetch('sharks.json')
    .then(res => res.json())
    .then(data => {
      const tradeDiv = document.getElementById('sharkTradesContainer');
      const alertDiv = document.getElementById('sharkAlertsContainer');
      tradeDiv.innerHTML = '';
      alertDiv.innerHTML = '';
      data.forEach(trade => {
        const el = document.createElement('div');
        el.className = "shark-trade";
        el.innerText = `ğŸ” ${trade.symbol}: ${trade.total_volume} shares @ $${trade.average_price}`;
        tradeDiv.appendChild(el);
        if (trade.confidence >= 0.7) {
          const alert = document.createElement('div');
          alert.className = "shark-alert";
          alert.innerText = `âš ï¸ ${trade.symbol}: High confidence (${Math.round(trade.confidence * 100)}%)`;
          alertDiv.appendChild(alert);
        }
      });
    });

  // Live Trader Log
  fetch('trades.json')
    .then(res => res.json())
    .then(data => {
      const container = document.getElementById('traderLogContainer');
      container.innerHTML = `<ul>` + data.map(t =>
        `<li>${t.account} â€“ ${t.type} ${t.qty} ${t.symbol} ${t.strike} @ $${t.premium}</li>`).join('') + `</ul>`;
    });

  // Suggested Trade
  fetch('sharks.json')
    .then(res => res.json())
    .then(sharks => {
      fetch('whales.json')
        .then(res => res.json())
        .then(whales => {
          let suggestion = "No clear alignment today.";
          sharks.forEach(shark => {
            const match = whales.find(w => w.symbol === shark.symbol);
            if (match && shark.confidence >= 0.7) {
              suggestion = `ğŸ” ${shark.symbol} PUT suggested â€” whale flow + shark confidence ${Math.round(shark.confidence * 100)}%.`;
            }
          });
          document.getElementById('suggestedTradeContainer').innerHTML = suggestion;
        });
    });
</script>

</body>
</html>
