<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WhaleWatch.Trade</title>
  <style>
    body {
      background-color: #001d2d;
      color: white;
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
    }
    nav {
      background-color: #001520;
      padding: 1em;
      text-align: center;
    }
    nav a {
      color: #00ffee;
      font-weight: bold;
      text-decoration: none;
      margin: 0 1em;
    }
    .section {
      padding: 2em;
    }
    .trade-card {
      background: #072939;
      margin: 0.5em 0;
      padding: 1em;
      border-radius: 8px;
      color: white;
    }
    .highlight {
      color: #00ffee;
    }
  </style>
</head>
<body>
  <nav>
    <a href="index.html">Home</a>
    <a href="learn.html">Learn</a>
    <a href="simulate.html">Simulate</a>
    <a href="harvesting.html">Premium Harvesting</a>
    <a href="whisper.html">Whispers</a>
  </nav>

  <main class="section">
    <h1>ðŸ“Š Latest Whale Trades</h1>
    <div id="whaleList">Loading...</div>
  </main>

  <script>
    fetch("whales.json")
      .then((res) => res.json())
      .then((data) => {
        const tradesData = data.whale_trades || [];

        const topWhales = tradesData
          .sort((a, b) => b.premium - a.premium)
          .slice(0, 10);

        document.getElementById("whaleList").innerHTML = topWhales
          .map((w) => `
            <div class="trade-card">
              <strong>${w.symbol}</strong> â€” ${w.type}<br>
              Strike: $${w.strike}, Exp: ${w.expiration}<br>
              Premium: $${Number(w.premium).toLocaleString(undefined, {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
              })}
            </div>
          `)
          .join("") + `
            <p style="text-align:center; margin-top:1em;">
              <a href="whisper.html" style="color:#00ffee; text-decoration:underline;">
                ðŸ”Ž View All Whale Trades
              </a>
            </p>
          `;
      });
  </script>
</body>
</html>
