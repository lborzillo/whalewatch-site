<section id="simulator-box" class="panel">
  <h2>ðŸ“Š Options Trade Simulator</h2>
  <p>Practice selling puts and calls like a pro â€” using real whale data.</p>

  <form id="simulator-form">
    <label><strong>Symbol:</strong></label><br />
    <select id="symbol">
      <option value="TSLA">TSLA</option>
      <option value="NVDA">NVDA</option>
      <option value="AAPL">AAPL</option>
    </select><br /><br />

    <label><strong>Type:</strong></label><br />
    <select id="type">
      <option value="Put">Put</option>
      <option value="Call">Call</option>
    </select><br /><br />

    <label><strong>Strike Price ($):</strong></label><br />
    <input type="number" id="strike" placeholder="e.g. 105" required /><br /><br />

    <label><strong>Expiration Date:</strong></label><br />
    <input type="date" id="expiration" required /><br /><br />

    <label><strong>Premium Collected ($ per share):</strong></label><br />
    <input type="number" id="premium" placeholder="e.g. 1.50" step="0.01" required /><br /><br />

    <button type="submit" style="background:#4ff; padding:10px 20px; font-weight:bold; border:none; border-radius:5px; cursor:pointer;">ðŸ’¥ Simulate Trade</button>
  </form>

  <div id="simulation-result" style="margin-top:20px;"></div>

  <script>
    const whaleData = {
      TSLA: {
        Put: { strike: 295, premium: 1.50, expiration: "2025-05-16" },
        Call: { strike: 305, premium: 2.40, expiration: "2025-05-16" }
      },
      NVDA: {
        Put: { strike: 110, premium: 1.80, expiration: "2025-05-16" },
        Call: { strike: 115, premium: 2.75, expiration: "2025-05-16" }
      },
      AAPL: {
        Put: { strike: 170, premium: 1.60, expiration: "2025-05-16" },
        Call: { strike: 180, premium: 2.10, expiration: "2025-05-16" }
      }
    };

    const form = document.getElementById("simulator-form");
    const result = document.getElementById("simulation-result");

    const strikeInput = document.getElementById("strike");
    const premiumInput = document.getElementById("premium");
    const expirationInput = document.getElementById("expiration");

    function updateFields() {
      const symbol = document.getElementById("symbol").value;
      const type = document.getElementById("type").value;
      const data = whaleData[symbol][type];

      strikeInput.value = data.strike;
      premiumInput.value = data.premium;
      expirationInput.value = data.expiration;
    }

    document.getElementById("symbol").addEventListener("change", updateFields);
    document.getElementById("type").addEventListener("change", updateFields);
    window.addEventListener("load", updateFields);

    form.addEventListener("submit", function (e) {
      e.preventDefault();

      const symbol = document.getElementById("symbol").value;
      const type = document.getElementById("type").value;
      const strike = parseFloat(strikeInput.value);
      const premium = parseFloat(premiumInput.value);
      const expiration = expirationInput.value;
      const totalPremium = (premium * 100).toFixed(2);

      result.innerHTML = `
        <p style="color:limegreen; font-weight:bold;">âœ… You simulated selling a ${type.toUpperCase()} on ${symbol}.</p>
        <ul>
          <li><strong>Strike:</strong> $${strike.toFixed(2)}</li>
          <li><strong>Premium Collected:</strong> $${premium.toFixed(2)} Ã— 100 = $${totalPremium}</li>
          <li><strong>Expiration Date:</strong> ${expiration}</li>
        </ul>
        <p><em>This premium is based on real whale trades. This is premium harvesting in action â€” income now, stock later (maybe).</em></p>
      `;
    });
  </script>
</section>
